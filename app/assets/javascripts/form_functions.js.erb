$(document).ready(function() {
  $('input:radio').screwDefaultButtons({
    image: 'url("' + "<%= asset_path('radio.png') %>" + ')',
    width: 50,
    height: 50
  });
  $('.styledRadio').on('click', function() {
    var that =  $(this).parent().parent();
    that.addClass('grey-gradient');
    $('.form-radio').not(that).removeClass('grey-gradient');
  });
  $(function() {
    
    $('.progressbar').each(function(){
      var t = $(this);
      var dataperc = t.attr('data-perc'),
          barperc = Math.round(dataperc*5.56);
      t.find('.bar').animate({width:barperc}, dataperc*25);
      t.find('.label').append('<div class="perc"></div>');
      
      function perc() {
        var length = t.find('.bar').css('width'),
          perc = Math.round(parseInt(length)/5.56),
          labelpos = (parseInt(length)-2);
        t.find('.label').css('left', labelpos);
        t.find('.perc').text(perc+'%');
      }
      perc();
      setInterval(perc, 0); 
    });
  });

  $(".form-radio").on('mouseover', function() {
    var thisId = $(this).attr('id');
    var thisPartial =  $('.' + thisId);
    thisPartial.addClass('button-hover');
    $('.partial-info').not(thisPartial).removeClass('button-hover');
  }).on('mouseleave', function() {
    var thisId = $(this).attr('id');
    var thisPartial =  $('.' + thisId);
    thisPartial.removeClass('button-hover');
  });

  
});

